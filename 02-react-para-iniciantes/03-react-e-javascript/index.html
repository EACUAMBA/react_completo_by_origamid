<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Adicionando React</title>

    <!--Load React-->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

</head>
<body>
<div id="app-javascript">
    <p>Total: <span id="total"></span></p>
    <p>Preco: <span id="preco"></span> MZN</p>
    <button id="button">Comprar</button>
</div>

<div id="app-react"></div>


<!--Loading our react component-->
<script type="application/javascript">
    const total = document.querySelector('#total')
    const preco = document.querySelector('#preco')
    const comprar = document.querySelector('#button')

    contador = 0;
    function actualizaValores(contador){
        total.innerText = contador;
        preco.innerText = contador * 768;
    }
    //iniciando aa função logo que inicia o script
    actualizaValores(contador);
    function handleClick(event) {
        contador += 1;
        actualizaValores(contador);
    }

    comprar.addEventListener('click', handleClick);

</script>


<script type="text/babel">

    const Comprar = () => {
        const [contador, setContador] = React.useState(1);

        return (
            <div>
                <p>Total: {contador}</p>
                <p>Preço: {contador * 768} MZN</p>
                <button onClick={()=> setContador(contador + 1)}>Comprar: </button>
            </div>
        );
    }

    //Montar o react
    const reactRoot = ReactDOM.createRoot(document.getElementById("app-react"));
    reactRoot.render(<Comprar/>);

</script>
</body>
</html>
